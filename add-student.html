<script type="module">
  import { db } from './firebase-init.js';
  import { collection, addDoc } from "https://www.gstatic.com/firebasejs/11.8.1/firebase-firestore.js";

  document.getElementById('ID-students').onclick = async function() {
    const name = document.getElementById('name').value;
    const grade = document.getElementById('grade').value;
    const email = document.getElementById('email').value;
    const phone = document.getElementById('phone').value;

    try {
      const docRef = await addDoc(collection(db, "students"), {
        name: name,
        grade: grade,
        email: email,
        phone: phone
      });

      alert("تمت إضافة الطالب بنجاح برقم: " + docRef.id);
    } catch (e) {
      alert("خطأ: " + e);
    }
  };
</script>
