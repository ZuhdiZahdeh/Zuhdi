<!DOCTYPE html>
<html lang="ar">
<head>
  <title>إضافة مشاركة</title>
</head>
<body>
  <input type="text" id="ID-students" placeholder="معرف الطالب"><br>
  <input type="text" id="ID-projects" placeholder="معرف المشروع"><br>
  <input type="text" id="type" placeholder="نوع المشاركة"><br>
  <input type="text" id="category" placeholder="الفئة"><br>
  <input type="url" id="video_link" placeholder="رابط الفيديو"><br>
  <button id="ID-participation">إضافة المشاركة</button>

<script type="module">
import { db } from './firebase-init.js';
import { collection, addDoc } from 'https://www.gstatic.com/firebasejs/11.8.1/firebase-firestore.js';

document.getElementById('participation').onclick = async function() {
  try {
    const docRef = await addDoc(collection(db, "participation"), {
      student_id: document.getElementById('ID-students').value,
      project_id: document.getElementById('ID-projects').value,
      type: document.getElementById('type').value,
      category: document.getElementById('category').value,
      video_link: document.getElementById('video_link').value)
    });
    alert("تمت إضافة المشاركة: " + docRef.id);
  } catch (error) {
    alert("خطأ: " + error);
  }
};
</script>
</body>
</html>
