<!-- === add-student.html ===25-05-25 === -->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>اضافة مشروع جديد</title>
  <link rel="stylesheet" href="main-style.css">
  <link rel="stylesheet" href="students-style.css">
  <link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet">
  <script src="includes/include-html.js"></script>
</head>
<body class="index-page">
<div include-html="includes/header.html"></div>
  <input type="text" id="ID-students" placeholder="معرف الطالب"><br>
  <input type="text" id="ID-projects" placeholder="معرف المشروع"><br>
  <input type="text" id="type" placeholder="نوع المشاركة"><br>
  <input type="text" id="category" placeholder="الفئة"><br>
  <input type="url" id="video_link" placeholder="رابط الفيديو"><br>
  <button id="ID-participation">إضافة المشاركة</button>

<script type="module">
import { db } from './firebase-init.js';
import { collection, addDoc } from 'https://www.gstatic.com/firebasejs/11.8.1/firebase-firestore.js';

document.getElementById('participation').onclick = async function() {
  try {
    const docRef = await addDoc(collection(db, "participation"), {
      student_id: document.getElementById('ID-students').value,
      project_id: document.getElementById('ID-projects').value,
      type: document.getElementById('type').value,
      category: document.getElementById('category').value,
      video_link: document.getElementById('video_link').value)
    });
    alert("تمت إضافة المشاركة: " + docRef.id);
  } catch (error) {
    alert("خطأ: " + error);
  }
};
</script>
</body>
</html>
